Make the inheritance of TimeTable private and fix the issues